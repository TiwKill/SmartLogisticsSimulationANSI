<p align="center">
  <img src="https://img.shields.io/badge/Python-3.8+-blue?style=for-the-badge&logo=python&logoColor=white" alt="Python">
  <img src="https://img.shields.io/badge/Status-Active-success?style=for-the-badge" alt="Status">
  <img src="https://img.shields.io/badge/License-MIT-yellow?style=for-the-badge" alt="License">
</p>

# ü§ñ Smart Logistics Simulation (SLS_ANSI)

> **Multi-Agent Autonomous Robot Simulation** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö Logistics ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏ô‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏û‡∏£‡πâ‡∏≠‡∏° AI-powered Deadlock Prediction ‡πÅ‡∏•‡∏∞ Real-time ANSI Terminal Visualization

---

## ‚ú® Features

- üöÄ **Multi-Robot Coordination** - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏´‡∏•‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ä‡∏ô‡∏Å‡∏±‡∏ô
- üß† **AI-Powered Deadlock Prediction** - ‡πÉ‡∏ä‡πâ ML Model ‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏Ç‡∏±‡∏î‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤
- üó∫Ô∏è **Smart A\* Pathfinding** - ‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°‡∏´‡∏≤‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏° dynamic cost calculation
- üîÑ **Automatic Deadlock Resolution** - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç deadlock ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏î‡πâ‡∏ß‡∏¢ yield/retreat strategies
- üìä **Real-time ANSI Visualization** - ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÅ‡∏ö‡∏ö real-time ‡∏ö‡∏ô terminal
- ‚öôÔ∏è **Configurable Scenarios** - ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ú‡πà‡∏≤‡∏ô JSON config

---

## üì∏ Demo

```
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë                                   ü§ñ SMART LOGISTICS SIMULATION ü§ñ                                   ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
 Step: 42    | Time: 00:21 | Moves: 156 | Pickups: 8 | Dropoffs: 5 | Deadlocks: 2

üìã LEGEND:  IDLE   TO_PICKUP   DELIVERING   HOME   EVAC/YIELD  P=Pickup D=Dropoff

üìä STATISTICS:
   Progress: 5/25 (20.0%) [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë]
   Robots: IDLE=5 | TO_PICKUP=8 | DELIVERING=5 | HOME=2 | EVAC=0
```

---

## üöÄ Quick Start

### Prerequisites

```bash
# Python 3.8+
python --version

# Required packages
pip install loguru pandas joblib numpy
```

### Installation

```bash
# Clone ‡∏´‡∏£‡∏∑‡∏≠ copy ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
cd /home/public_html/apiservices/projects/sls_ansi

# ‡∏£‡∏±‡∏ô simulation
python main.py
```

### Configuration

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `data/pattern_1.json` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á:

```json
{
  "robots": [{ "id": 1, "name": "R1", "pos": [0, 0] }],
  "packages": [{ "name": "P1", "pickup": [3, 10], "dropoff": [0, 79] }],
  "walls": [[1, 5, 1, 35]],
  "settings": {
    "rows": 26,
    "cols": 80,
    "sleep": 0.5,
    "max_steps": 1000
  }
}
```

---

## üìÅ Project Structure

```
sls_ansi/
‚îú‚îÄ‚îÄ üìÑ main.py                        # Entry point & main simulation loop
‚îú‚îÄ‚îÄ üìÅ controllers/
‚îÇ   ‚îî‚îÄ‚îÄ simulation_controller.py      # Main controller (Composition Pattern)
‚îú‚îÄ‚îÄ üìÅ core/
‚îÇ   ‚îî‚îÄ‚îÄ settings.py                   # Configuration settings
‚îú‚îÄ‚îÄ üìÅ utils/
‚îÇ   ‚îú‚îÄ‚îÄ display_manager.py            # UI/Display & ANSI rendering
‚îÇ   ‚îú‚îÄ‚îÄ pathfinding.py                # A* Algorithm & path planning
‚îÇ   ‚îú‚îÄ‚îÄ deadlock_resolver.py          # Deadlock detection & resolution
‚îÇ   ‚îú‚îÄ‚îÄ robot_manager.py              # Robot & package management
‚îÇ   ‚îú‚îÄ‚îÄ grid_utils.py                 # Grid utilities & helpers
‚îÇ   ‚îî‚îÄ‚îÄ penalty_map.py                # Dynamic penalty system
‚îú‚îÄ‚îÄ üìÅ data/
‚îÇ   ‚îî‚îÄ‚îÄ pattern_1.json                # Simulation configuration
‚îú‚îÄ‚îÄ üìÅ models/
‚îÇ   ‚îî‚îÄ‚îÄ deadlock_predictor.pkl        # ML model for deadlock prediction
‚îî‚îÄ‚îÄ üìÅ logs/                          # Runtime logs (auto-generated)
```

---

## üèóÔ∏è Architecture

### System Overview

```mermaid
graph TB
    subgraph Entry["üöÄ Entry Point"]
        M[main.py]
    end

    subgraph Controller["üéÆ Controller Layer"]
        SC[SimulationController]
    end

    subgraph Modules["üß© Utility Modules"]
        DM[DisplayManager]
        SR[SimulationRenderer]
        PF[PathFinder]
        DR[DeadlockResolver]
        RM[RobotManager]
    end

    subgraph Core["‚öôÔ∏è Core"]
        S[Settings]
        GU[GridUtils]
        PM[PenaltyMap]
    end

    subgraph Data["üíæ Data"]
        JSON[pattern_1.json]
        ML[deadlock_predictor.pkl]
    end

    M --> SC
    SC --> DM
    SC --> PF
    SC --> DR
    SC --> RM
    DM --> SR

    SC --> S
    PF --> GU
    DR --> GU
    RM --> GU
    SR --> GU

    SC --> JSON
    PF --> ML
```

### Module Dependencies

```mermaid
graph LR
    subgraph Utils["üì¶ Utils"]
        DM[display_manager]
        PF[pathfinding]
        DR[deadlock_resolver]
        RM[robot_manager]
        GU[grid_utils]
        PM[penalty_map]
    end

    subgraph Core["‚öôÔ∏è Core"]
        S[settings]
    end

    DM --> S & GU
    PF --> S & GU
    DR --> S & GU
    RM --> S & GU
    GU --> S
```

---

## üîÑ Simulation Workflow

### Main Loop (7 Steps)

```mermaid
flowchart TD
    START([üöÄ Start]) --> INIT[Initialize SimulationController]
    INIT --> LOAD[Load Config from JSON]
    LOAD --> INIT_MOD[Initialize Modules]

    INIT_MOD --> LOOP{üîÑ Main Loop}

    LOOP --> M1["1Ô∏è‚É£ Maintenance & Cleanup"]
    M1 --> M2["2Ô∏è‚É£ Deadlock Detection"]
    M2 --> M3["3Ô∏è‚É£ Critical Path & Evacuation"]
    M3 --> M4["4Ô∏è‚É£ Decision Making"]
    M4 --> M5["5Ô∏è‚É£ Path Planning"]
    M5 --> M6["6Ô∏è‚É£ Execute Moves"]
    M6 --> M7["7Ô∏è‚É£ Final Path Check"]
    M7 --> RENDER[üñ•Ô∏è Render Display]

    RENDER --> CHECK{‚úÖ All Delivered?}
    CHECK -->|No| LOOP
    CHECK -->|Yes| STATS[üìä Show Final Statistics]
    STATS --> END([üèÅ End])
```

### Step Details

| Step | Name                   | Description                                                       |
| ---- | ---------------------- | ----------------------------------------------------------------- |
| 1    | **Maintenance**        | ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç state ‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥, ‡∏•‡πâ‡∏≤‡∏á orphaned assignments, reassign packages |
| 2    | **Deadlock Detection** | ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Å‡∏•‡∏∏‡πà‡∏° robots ‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏Ç‡∏±‡∏î‡∏Å‡∏±‡∏ô                                  |
| 3    | **Critical Path**      | ‡∏´‡∏•‡∏ö‡πÉ‡∏´‡πâ robots ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á (priority ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î)                    |
| 4    | **Decision Making**    | ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à yield/retreat/emergency ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö robots ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏ô‡∏≤‡∏ô           |
| 5    | **Path Planning**      | ‡∏´‡∏≤‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ A\* Algorithm                                       |
| 6    | **Execute Moves**      | ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏£‡∏¥‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö collision                             |
| 7    | **Final Check**        | ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç path ‡∏ó‡∏µ‡πà‡∏´‡∏≤‡∏¢‡πÑ‡∏õ                                     |

---

## ü§ñ Robot State Machine

```mermaid
stateDiagram-v2
    [*] --> IDLE
    IDLE --> TO_PICKUP: üì¶ Assigned Package
    IDLE --> HOME: üè† No Package
    TO_PICKUP --> TO_DROPOFF: ‚úÖ Package Picked
    TO_DROPOFF --> HOME: ‚úÖ Package Delivered
    HOME --> IDLE: üè† Reached Home

    IDLE --> EVACUATING: ‚ö†Ô∏è Blocking Path
    TO_PICKUP --> EVACUATING: ‚ö†Ô∏è Need to Yield
    TO_DROPOFF --> EVACUATING: ‚ö†Ô∏è Need to Yield
    HOME --> EVACUATING: ‚ö†Ô∏è Need to Yield
    EVACUATING --> IDLE: ‚úÖ Reached Safe Spot
```

---

## üì¶ Package State Machine

```mermaid
stateDiagram-v2
    [*] --> WAITING: üì¶ Created
    WAITING --> PICKED: ü§ñ Robot Picks Up
    PICKED --> DELIVERED: ‚úÖ Robot Drops Off
    DELIVERED --> [*]
```

---

## üéØ A\* Algorithm (Enhanced)

### Cost Calculation Formula

```
total_cost = base_cost (1.0)
           + robot_bias (prevent same path selection)
           + ai_deadlock_penalty (ML prediction)
           + turn_penalty (1.5x for turns)
           + dynamic_traffic_cost (future collision prediction)
           + corridor_bonus (prefer wide paths)
           + momentum_bonus (prefer straight lines)
           + goal_proximity_bonus (near goal = lower cost)
           + narrow_passage_penalty (avoid bottlenecks)
```

### Algorithm Flow

```mermaid
flowchart TD
    A[üöÄ Start] --> B[Initialize Open Set]
    B --> C{Open Set Empty?}
    C -->|Yes| D[‚ùå Return Empty Path]
    C -->|No| E[Pop Lowest f-score]
    E --> F{At Goal?}
    F -->|Yes| G[‚úÖ Return Path]
    F -->|No| H[Get Neighbors]
    H --> I[Calculate Enhanced Costs]
    I --> J[Update g_score]
    J --> K[Calculate Heuristic]
    K --> L[Add to Open Set]
    L --> C
```

---

## üß© Class Reference

| Class                  | File                       | Description                                 |
| ---------------------- | -------------------------- | ------------------------------------------- |
| `SimulationController` | `simulation_controller.py` | Main orchestrator, uses Composition pattern |
| `PathFinder`           | `pathfinding.py`           | Enhanced A\* with ML deadlock prediction    |
| `DeadlockResolver`     | `deadlock_resolver.py`     | Detect & resolve multi-robot deadlocks      |
| `RobotManager`         | `robot_manager.py`         | Package assignment & robot lifecycle        |
| `DisplayManager`       | `display_manager.py`       | Activity tracking & statistics              |
| `SimulationRenderer`   | `display_manager.py`       | ANSI terminal rendering                     |
| `GridUtils`            | `grid_utils.py`            | Position parsing & grid helpers             |
| `DynamicPenaltyMap`    | `penalty_map.py`           | Traffic-based penalty system                |
| `Settings`             | `settings.py`              | Configuration constants                     |

---

## ‚öôÔ∏è Configuration Reference

### Settings (settings.py)

| Parameter            | Default | Description                    |
| -------------------- | ------- | ------------------------------ |
| `ROWS`               | 26      | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏ñ‡∏ß‡∏Ç‡∏≠‡∏á grid               |
| `COLS`               | 80      | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏Ç‡∏≠‡∏á grid           |
| `SLEEP`              | 0.5     | ‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏ô‡πà‡∏ß‡∏á (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ) ‡∏ï‡πà‡∏≠ step    |
| `MAX_STEPS`          | 1000    | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô step ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î              |
| `YIELD_THRESHOLD`    | 3       | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô wait ‡∏Å‡πà‡∏≠‡∏ô‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤ yield   |
| `DEADLOCK_THRESHOLD` | 15      | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô wait ‡∏Å‡πà‡∏≠‡∏ô‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤ deadlock |
| `TURN_PENALTY`       | 1.5     | cost ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏ß          |
| `CORRIDOR_BONUS`     | 0.8     | ‡∏•‡∏î cost ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏¥‡∏ô‡πÉ‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏ß‡πâ‡∏≤‡∏á    |

### JSON Config Format

```json
{
  "robots": [
    {
      "id": 1, // Robot ID (unique)
      "name": "R1", // Display name
      "pos": [0, 0] // Initial position [row, col]
    }
  ],
  "packages": [
    {
      "name": "P1", // Package name
      "pickup": [3, 10], // Pickup location
      "dropoff": [0, 79] // Dropoff location
    }
  ],
  "walls": [
    [1, 5, 1, 35] // Wall definition [r1, c1, r2, c2]
  ],
  "settings": {
    "rows": 26,
    "cols": 80,
    "sleep": 0.5,
    "max_steps": 1000
  }
}
```

---

## üìä Logs

Logs ‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô `logs/{timestamp}/`:

| File               | Content                        |
| ------------------ | ------------------------------ |
| `system.log`       | Overall system events          |
| `{robot_name}.log` | Per-robot movement & decisions |

---

## üõ†Ô∏è Development

### Adding New Robot Behaviors

```python
# ‡πÉ‡∏ô RobotManager.fix_robot_states()
def fix_robot_states(self):
    for rb in self.robots:
        # Add your custom state fix logic here
        pass
```

### Customizing A\* Cost

```python
# ‡πÉ‡∏ô PathFinder.smart_astar()
# ‡πÄ‡∏û‡∏¥‡πà‡∏° cost calculation ‡πÉ‡∏´‡∏°‡πà:
move_cost += your_custom_penalty * weight
```

### Creating New Patterns

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô `data/`:

```bash
cp data/pattern_1.json data/pattern_2.json
# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç pattern_2.json
# ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó settings.PATTERN_DIR ‡πÉ‡∏ô settings.py
```

---

## üß† Model Training

### Deadlock Predictor Model

‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ ML Model ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ deadlock ‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ó‡∏£‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å logs ‡πÑ‡∏î‡πâ

#### Training Commands

```bash
cd /home/public_html/apiservices/projects/sls_ansi

# ‡πÉ‡∏ä‡πâ log directory ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
python scripts/train_deadlock_model.py

# ‡πÉ‡∏ä‡πâ log directory ‡πÄ‡∏â‡∏û‡∏≤‡∏∞
python scripts/train_deadlock_model.py --logs-dir logs/20251220_003401

# ‡πÉ‡∏ä‡πâ‡∏ó‡∏∏‡∏Å log directories
python scripts/train_deadlock_model.py --all-logs

# ‡∏Å‡∏≥‡∏´‡∏ô‡∏î output path ‡πÅ‡∏•‡∏∞ cross-validation folds
python scripts/train_deadlock_model.py --output models/new_model.pkl --cv 10
```

#### Training Pipeline

```mermaid
flowchart LR
    A[üìÅ Log Files] --> B[üìñ Parse Logs]
    B --> C[üîß Feature Engineering]
    C --> D[üìä Train Models]
    D --> E[üèÜ Select Best]
    E --> F[üíæ Save Model]
```

#### Features Used

| Feature                | Description                                  |
| ---------------------- | -------------------------------------------- |
| `from_row`, `from_col` | ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô                              |
| `to_row`, `to_col`     | ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢                              |
| `dir_row`, `dir_col`   | ‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà                          |
| `wait`                 | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô steps ‡∏ó‡∏µ‡πà‡∏£‡∏≠                            |
| `state_*`              | State encoding (TO_PICKUP, TO_DROPOFF, etc.) |
| `mode_*`               | Mode encoding (NORMAL, YIELDING, FORCED)     |
| `recent_blocks`        | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô BLOCKED events ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î                  |
| `recent_moves`         | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô MOVE events ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î                     |

#### Models Compared

- **RandomForest** - Tree-based ensemble
- **GradientBoosting** - Boosted trees
- **LogisticRegression** - Linear model

Best model is selected by **F1 Score** and saved automatically.

#### Log Format

```
2025-12-20 00:34:05 | MOVE [2, 2] -> [2, 3] | STATE=TO_PICKUP | MODE=NORMAL
2025-12-20 00:34:05 | BLOCKED [5, 3] -> [6, 3] | WAIT=0
2025-12-20 00:34:05 | YIELD to R5 -> [3, 4]
2025-12-20 00:34:05 | RETREAT -> [2, 1]
2025-12-20 00:34:05 | EMERGENCY MOVE -> [1, 3]
```

#### Improving Model Performance

1. **Collect more data** - ‡∏£‡∏±‡∏ô simulation ‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° samples
2. **Balance classes** - Script ‡∏°‡∏µ auto-augmentation ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö deadlock samples
3. **Tune hyperparameters** - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô `train_deadlock_model.py`

---

## üìà Performance Metrics

‡πÄ‡∏°‡∏∑‡πà‡∏≠ simulation ‡∏à‡∏ö ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á:

- **Total Steps** - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô step ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- **Elapsed Time** - ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏à‡∏£‡∏¥‡∏á
- **Packages Delivered** - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô package ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- **Total Moves** - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- **Deadlocks Resolved** - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô deadlock ‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
- **Delivery Rate** - ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á (% per step)
- **Moves per Package** - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô moves ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠ package

---

## ü§ù Contributing

1. Fork the repository
2. Create feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Open Pull Request

---

## üìù License

MIT License - see [LICENSE](LICENSE) for details.

---

## üë§ Author

**TiwKill**

---

<p align="center">
  Made with ‚ù§Ô∏è and üêç Python
</p>
